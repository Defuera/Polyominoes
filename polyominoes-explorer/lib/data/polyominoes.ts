import { Polyomino } from '@/types/polyomino';

export const POLYOMINO_DATA: Record<number, Polyomino[]> = {
  1: [[[0, 0]]],

  2: [[[0, 0], [0, 1]]],

  3: [
    [[0, 0], [0, 1], [0, 2]], // I
    [[0, 0], [0, 1], [1, 1]], // L
  ],

  4: [
    [[0, 0], [0, 1], [0, 2], [0, 3]], // I
    [[0, 0], [0, 1], [0, 2], [1, 2]], // L
    [[0, 0], [0, 1], [1, 1], [1, 2]], // S
    [[0, 0], [0, 1], [0, 2], [1, 1]], // T
    [[0, 0], [0, 1], [1, 0], [1, 1]], // O
  ],

  5: [
    [[0, 0], [0, 1], [0, 2], [0, 3], [0, 4]], // I
    [[0, 0], [0, 1], [0, 2], [0, 3], [1, 0]], // L
    [[0, 0], [0, 1], [0, 2], [1, 2], [1, 3]], // N
    [[0, 0], [0, 1], [0, 2], [1, 1], [2, 1]], // T
    [[0, 0], [0, 1], [0, 2], [0, 3], [1, 2]], // Y
    [[0, 0], [0, 1], [0, 2], [1, 1], [1, 2]], // P
    [[0, 0], [0, 1], [1, 1], [1, 2], [2, 2]], // W (staircase: X../XX/.XX)
    [[0, 0], [0, 1], [1, 1], [2, 1], [2, 2]], // Z (XX./.X./.XX)
    [[0, 0], [0, 1], [0, 2], [1, 0], [1, 2]], // U
    [[0, 0], [0, 1], [0, 2], [1, 0], [2, 0]], // V
    [[0, 1], [1, 0], [1, 1], [1, 2], [2, 1]], // X (plus)
    [[0, 1], [1, 0], [1, 1], [1, 2], [2, 2]], // F
  ],

  6: [
    [[0, 1], [1, 0], [1, 1], [1, 2], [2, 1], [3, 1]],
    [[0, 1], [1, 0], [1, 1], [1, 2], [2, 1], [2, 2]],
    [[0, 0], [1, 0], [1, 1], [2, 0], [2, 1], [3, 0]],
    [[0, 1], [1, 1], [1, 2], [2, 0], [2, 1], [3, 1]],
    [[0, 0], [1, 0], [2, 0], [2, 1], [3, 0], [4, 0]],
    [[0, 0], [0, 1], [1, 0], [1, 1], [2, 0], [3, 0]],
    [[0, 0], [0, 1], [1, 1], [1, 2], [2, 1], [3, 1]],
    [[0, 0], [1, 0], [1, 1], [1, 2], [2, 0], [3, 0]],
    [[0, 0], [1, 0], [1, 1], [2, 0], [3, 0], [4, 0]],
    [[0, 0], [1, 0], [1, 1], [2, 0], [3, 0], [3, 1]],
    [[0, 1], [1, 1], [1, 2], [2, 1], [3, 0], [3, 1]],
    [[0, 1], [1, 1], [1, 2], [2, 0], [2, 1], [2, 2]],
    [[0, 0], [0, 1], [1, 0], [1, 1], [2, 0], [2, 1]],
    [[0, 0], [0, 1], [1, 1], [1, 2], [2, 1], [2, 2]],
    [[0, 0], [1, 0], [1, 1], [2, 0], [2, 1], [3, 1]],
    [[0, 0], [1, 0], [1, 1], [2, 0], [2, 1], [2, 2]],
    [[0, 0], [0, 1], [1, 1], [1, 2], [2, 0], [2, 1]],
    [[0, 1], [1, 1], [1, 2], [1, 3], [2, 0], [2, 1]],
    [[0, 1], [1, 1], [1, 2], [2, 0], [2, 1], [3, 0]],
    [[0, 2], [1, 2], [1, 3], [2, 0], [2, 1], [2, 2]],
    [[0, 0], [1, 0], [1, 1], [1, 2], [2, 0], [2, 2]],
    [[0, 0], [1, 0], [1, 1], [1, 2], [1, 3], [2, 0]],
    [[0, 0], [1, 0], [2, 0], [3, 0], [4, 0], [5, 0]],
    [[0, 0], [1, 0], [2, 0], [3, 0], [4, 0], [4, 1]],
    [[0, 0], [0, 1], [1, 0], [2, 0], [3, 0], [3, 1]],
    [[0, 1], [0, 2], [1, 1], [2, 1], [3, 0], [3, 1]],
    [[0, 1], [1, 0], [1, 1], [2, 0], [3, 0], [4, 0]],
    [[0, 0], [0, 1], [0, 2], [1, 0], [2, 0], [3, 0]],
    [[0, 0], [0, 1], [1, 0], [2, 0], [2, 1], [3, 1]],
    [[0, 0], [0, 1], [1, 0], [2, 0], [2, 1], [2, 2]],
    [[0, 0], [0, 1], [1, 1], [2, 1], [2, 2], [3, 2]],
    [[0, 0], [0, 1], [1, 1], [2, 1], [2, 2], [2, 3]],
    [[0, 0], [1, 0], [2, 0], [2, 1], [3, 1], [4, 1]],
    [[0, 0], [1, 0], [2, 0], [2, 1], [3, 1], [3, 2]],
    [[0, 2], [1, 1], [1, 2], [2, 0], [2, 1], [3, 0]],
  ],

  7: [], // TODO: Add if needed
  8: [], // TODO: Add if needed
  9: [], // TODO: Add if needed
  10: [], // TODO: Add if needed
};

export const POLYOMINO_COUNTS: Record<number, number> = {
  1: 1,
  2: 1,
  3: 2,
  4: 5,
  5: 12,
  6: 35,
  7: 108,
  8: 369,
  9: 1285,
  10: 4655,
  11: 17073,
  12: 63600,
  13: 238591,
  14: 901971,
  15: 3426576,
  16: 13079255,
  17: 50107909,
  18: 192622052,
  19: 742624232,
  20: 2870671950,
  21: 11123060678,
  22: 43191857688,
  23: 168047007728,
  24: 654999700403,
  25: 2557227044764,
  26: 9999088822075,
  27: 39153010938487,
  28: 153511100594603,
};

// Asymptotic approximation for larger N (not exact!)
// Formula: approximately λ^n / n where λ ≈ 4.0626
export function approximatePolyominoCount(n: number): number {
  if (POLYOMINO_COUNTS[n]) return POLYOMINO_COUNTS[n];
  const lambda = 4.0626;
  return Math.round(Math.pow(lambda, n) / n);
}

export const POLYOMINO_NAMES: Record<number, string> = {
  1: 'Monomino',
  2: 'Domino',
  3: 'Tromino',
  4: 'Tetromino',
  5: 'Pentomino',
  6: 'Hexomino',
  7: 'Heptomino',
  8: 'Octomino',
  9: 'Nonomino',
  10: 'Decomino',
};
